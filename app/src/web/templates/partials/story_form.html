{# -*- mode: web -*- #}
{# -*- engine: nunjucks -*- #}

<dl class="form-fields full-width create-story-fields">
    <dt><label for="title">Title</label></dt>
    <dd><input type="text" name="title" required
               maxlength="100" value="{{ formData.title }}" />
        <p><small>Please do not editorialize titles.</small></p></dd>

    <dt><label for="url">Story URL</label></dt>
    <dd><input type="url" name="url"
               maxlength="200" value="{{ formData.url }}" /></dd>

    <dt style="grid-column: 1 / 3; text-align: center">...or...</dt>

    <dt><label for="text">Story text</label></dt>
    <dd><textarea name="text">{{ formData.text }}</textarea></dd>

    <dt><label for="tags">Tags</label>
        <p><small>(at least one and at most three. Select any that apply)</small></p>
    </dt>
    <dd><div class="story-tags">
            {% for tag in tags %}
                <p><label>
                    <input type="checkbox" name="tags" value="{{ tag.name }}"
                        {% if formData.tags and (
                            formData.tags == tag.name or (
                                formData.tags.length and
                                formData.tags.includes(tag.name)
                            )
                        ) %}checked{% endif %} />
                    {{ tag.name }} &mdash; {{ tag.description }}
                </label></p>
            {% endfor %}
        </div></dd>

    <dt><label for="is_authored">I am the author of this story</label></dt>
    <dd><input type="checkbox" name="is_authored" id="is_authored"
               {% if formData.is_authored %}checked{% endif %} /></dd>
</dl>
